#!/usr/bin/env bash

#
# Reset the spotlight index for a given volume. Requires administration
# privileges.
#
# usage: mdreset [<volume>]
#
mdreset() {
  local volume_path="${1:-/}"

  if [[ -d "/Volumes/${volume_path}" ]]; then
    volume_path="/Volumes/${volume_path}"
  fi

  if [[ -d "${volume_path}" ]]; then
    sudo mdutil -E "${volume_path}"
  fi
}

mdreset "$@"
