# zsh/functions/notify

#
# Notify the user once a process has finished.
# Sends a message to the notification center on OSX,
# renders the bell sequence as fallback solution for
# other systems.
#
# Usage: notify [title] [msg]
#
# [$1] = Title of the notification message.
# [$2] = Message of the notification message.
#
notify() {
  local title="${1:-Terminal}"
  local msg="${2:-Process finished}"

  if [[ "$OSTYPE" != darwin* ]]; then
    echo -e '\a'
    return $?
  fi

  osascript 2>&1 <<EOF
    display notification "$msg" with title "$title"
EOF
}

# vim:syntax=zsh
